<div style="margin-bottom: 20px; display: flex; align-items: center; justify-content: space-between;">
    <h2>Monats√ºbersicht</h2>
    <select class="form-select" style="width: 100px;" [(ngModel)]="selectedYear">
        @for (year of GetLast10Years(); track $index) {
        <option [value]="year">{{year}}</option>}
    </select>
</div>
<hr>
<div>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th scope="col"></th>
                <th scope="col">Offen</th>
                <th scope="col">Bezahlt</th>
                <th scope="col">In Arbeit</th>
                <th scope="col">Erledigt</th>
            </tr>
        </thead>
        <tbody>
            @for (month of months.value(); track $index) {
            <tr scope="row">
                <td>{{month.monthName}}</td>
                <td>{{month.offen === 0 ? "0" : month.offen!.toFixed(2)}}</td>
                <td>{{month.bezahlt === 0 ? "0" : month.bezahlt?.toFixed(2)}}</td>
                <td>{{month.in_Arbeit=== 0 ? "0" : month.in_Arbeit?.toFixed(2)}}</td>
                <td>{{month.erledigt === 0 ? "0" : month.erledigt?.toFixed(2)}}</td>
            </tr>
            }
            <tr scope="row" style="border-top: 2px solid black;">
                <th>Gesamt:</th>
                <th colspan="2">{{GesamtSum()}}</th>
                <td>pro M.:</td>
                <td>{{AvgSum()}}</td>
            </tr>
        </tbody>
    </table>
</div>
@if(months.isLoading() === false){
<div style="padding-bottom: 50px;">
    <canvasjs-chart [options]="chartOptions()" [styles]="{width: '100%', height:'360px'}"></canvasjs-chart>    
</div>
}